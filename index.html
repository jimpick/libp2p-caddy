<!DOCTYPE html>

<html lang="en">

  <head>
    <meta charset="utf-8"/>
    <title>js-libp2p parcel.js browser example</title>
    <script src="go-wasm/wasm_exec.js"></script>
    <script>
      const go = new Go();
      WebAssembly.instantiateStreaming(fetch("go-wasm/main.wasm"), go.importObject).then((result) => {
        go.run(result.instance);
      });
    </script>
  </head>

  <body>
    <header>
      <h1 id="status">Starting libp2p...</h1>
    </header>

    <div>
      <p>Note: edit HTML to update the peer id for your go-libp2p server)</p>
      <p>Link to <a href="https://libp2p-caddy-ws.localhost:9056/">websocket proxy</a> (for trusting SSL cert).</p>
      <label>Maddr:</label>
      <!-- <input type="text" id="maddr" style="width: 80%" value="/ip4/127.0.0.1/tcp/2000/ws/p2p/QmbPkVRVtQnjpZYT7KpxpXAYYFFuzsBPC8o6S2Sypggesr"></div> -->
      <input type="text" id="maddr" style="width: 80%" value="/dns4/libp2p-caddy-ws.localhost/tcp/9056/wss/p2p/QmSmP3E4EgTvbK9bNCHw1EZ3MdmeuX5NeFJLQoRqre1p3K"></div>
      <button id="jsPingBtn">JS Ping!</button>
      <button id="goPingBtn">Go Ping!</button>
    </div>

    <main>
      <pre id="output"></pre>
    </main>

    <script src="./index.js"></script>

  </body>

</html>
